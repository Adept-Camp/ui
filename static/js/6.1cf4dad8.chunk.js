(this["webpackJsonpwild-cards-playground"]=this["webpackJsonpwild-cards-playground"]||[]).push([[6],{1565:function(e,t){},1582:function(e,t){},1655:function(e,t){},1657:function(e,t){},1819:function(e,t){},1906:function(e,t){},1932:function(e,t){},2114:function(e,t){},2211:function(e,t){},2225:function(e,t){},2271:function(e,t){},2273:function(e,t){},2333:function(e,t){},2371:function(e,t){},2386:function(e,t){},2396:function(e,t){},2397:function(e,t){},2460:function(e,t){},2465:function(e,t){},2559:function(e,t,n){"use strict";n.r(t),n.d(t,"ProfileItem",(function(){return h})),n.d(t,"ProfileDetails",(function(){return g})),n.d(t,"getResult",(function(){return b})),n.d(t,"TwitterVerification",(function(){return y})),n.d(t,"ThreeBoxUpdate",(function(){return D})),n.d(t,"Main",(function(){return k})),n.d(t,"$$default",(function(){return T})),n.d(t,"default",(function(){return T}));var r=n(1471),i=n(4),a=n(5),o=n(2555),c=n(0),u=n(100),l=n(30),f=n(6),d=n(11),s=n(3),m=n(23),v=n(34);function p(e){var t=e.fieldName,n=e.fieldTitle,r=e.fieldDescription,i=e.fieldValue,o=e.onEdit,l=c.useState((function(){return 0===u.c(i).length})),s=l[1];return c.createElement(c.Fragment,{children:l[0]?c.createElement("div",void 0,c.createElement(f.h,{type:"string",placeholder:t,onChange:function(e){var t=d.c(e.target.value,"");return a.a(o,(function(e){return t}))},value:i})):c.createElement("div",{onClick:function(e){return e.preventDefault(),a.a(s,(function(e){return!0}))}},c.createElement("small",void 0,c.createElement("strong",void 0,n,c.createElement(f.o,{message:r,placement:"top",children:c.createElement("span",void 0,"\u24d8")}))),c.createElement("br",void 0),i,c.createElement("br",void 0))})}var h={make:p};function E(e){var t,n=e.profileName,o=e.profileDescription,u=e.reloadUser,d=e.setThreeBoxState,s=e.threeBoxState,v=c.useState((function(){return n})),h=v[1],E=v[0],g=c.useState((function(){return o})),b=g[1],w=g[0],y=E!==n||w!==o,x=m.f(0),D=m.p(0);if("number"===typeof s)t=0===s?c.createElement(f.f,{children:"Loading 3Box..."}):c.createElement(c.Fragment,{children:c.createElement(f.f,{children:"There was an error loading your box"})});else switch(0|s.tag){case 0:t=c.createElement(c.Fragment,{children:null},c.createElement("p",void 0,"click on any item to edit it"),c.createElement(p,{fieldName:"name",fieldTitle:"Name",fieldDescription:"Your 3box name",fieldValue:E,onEdit:h}),c.createElement(p,{fieldName:"description",fieldTitle:"Description",fieldDescription:"Your 3box description",fieldValue:w,onEdit:b}),y?c.createElement(c.Fragment,{children:null},c.createElement(f.b,{children:"Save",onClick:function(e){return e.preventDefault(),a.a(d,(function(e){return 0})),void 0!==x&&void 0!==D?(l.e(l.a.toResult(r.openBox(x,D.provider)),(function(e){return a.a(d,(function(t){return i.a(1,[e,!0])})),l.c(l.a.toResult(e.syncDone),(function(t){var r;if(t.tag)r=1;else{var c=n===E?l.f(i.a(0,[0])):l.a.toResult(e.public.set("name",E)),f=o===w?l.f(i.a(0,[0])):l.a.toResult(e.public.set("description",w));l.c(l.b(c,f),(function(e){return e[0].tag||e[1].tag?a.a(d,(function(e){return i.a(0,[2])})):(a.a(u,!0),a.a(d,(function(e){return i.a(0,[1])})))})),r=i.a(2,[e])}return a.a(d,(function(e){return r}))}))})),0):0}}),c.createElement(f.b,{children:"Cancel",onClick:function(e){return e.preventDefault(),a.a(h,(function(e){return n})),a.a(b,(function(e){return o}))}})):null);break;case 1:t=c.createElement(f.f,{children:"3 box is loaded - syncing profile"});break;case 2:t=c.createElement(f.f,{children:"3 box is synced, SAVING profile data"});break;case 3:t=c.createElement(c.Fragment,{children:c.createElement(f.f,{children:"3 box is synced, loading 'wildcards' space"})});break;case 4:t=c.createElement(c.Fragment,{children:c.createElement(f.f,{children:"3 box and 'wildcards' space is synced"})})}return c.createElement(f.a,{p:1,children:t})}var g={make:E},b=function(e){var t=JSON.parse(e);return"success"===t.status?t.data.verification:void 0};function w(e){var t=e.twitterVerification,n=e.threeBoxState,u=e.setThreeBoxState,v=e.reloadUser,p=d.e(m.f(0),"",(function(e){return e})),h=m.f(0),E=m.p(0),g=c.useState((function(){return 0})),w=g[1],y=g[0],x=c.useState((function(){return""})),D=x[1],S=x[0];if(void 0!==t)return c.createElement(c.Fragment,{children:null},c.createElement("p",void 0,"Your twitter is verified"),c.createElement(f.b,{children:"Remove Verification",onClick:function(e){return e.preventDefault(),a.a(u,(function(e){return 0})),void 0!==h&&void 0!==E&&(a.a(w,(function(e){return 1})),l.e(l.a.toResult(r.openBox(h,E.provider)),(function(e){return a.a(u,(function(t){return i.a(1,[e,!0])})),a.a(w,(function(t){return i.a(0,[e.DID])})),l.c(l.a.toResult(e.syncDone),(function(t){var n;return t.tag?n=1:(e.public.remove("proof_twitter"),a.a(v,!0),n=i.a(2,[e])),a.a(u,(function(e){return n}))}))}))),0}}));if("number"===typeof y)return 0===y?c.createElement(c.Fragment,{children:null},c.createElement(f.f,{children:"verify your twitter"}),c.createElement(f.h,{type:"string",placeholder:"twitter_handle",onChange:function(e){var t=d.c(e.target.value,"");return a.a(D,(function(e){return t}))},value:S}),c.createElement(f.b,{children:"Verify",onClick:function(e){return e.preventDefault(),a.a(u,(function(e){return 0})),void 0!==h&&void 0!==E&&(a.a(w,(function(e){return 1})),l.e(l.a.toResult(r.openBox(h,E.provider)),(function(e){return a.a(u,(function(t){return i.a(1,[e,!0])})),a.a(w,(function(t){return i.a(0,[e.DID])})),l.c(l.a.toResult(e.syncDone),(function(t){var n;return n=t.tag?1:i.a(2,[e]),a.a(u,(function(e){return n}))}))}))),0}})):c.createElement("p",void 0,"Please login to 3box!");if(y.tag)return c.createElement("p",void 0,"Verifying with server!");var k,T=y[0],B="https://twitter.com/intent/tweet?text=This Tweet links my Twitter account to my 3Box profile!\n%0D%0A%0D%0Ahttps://wildcards.world/%23user/"+String(p)+"\n%0D%0A%0D%0ASupport Animal conservation @wildcards_world\n%0D%0A\u2705\n%0D%0A"+String(T)+"\n%0D%0A\u2705";return k="number"===typeof n||2!==n.tag?c.createElement("p",void 0,"waiting to sync 3box before continuing"):c.createElement(f.b,{children:"NEXT",onClick:function(e){return e.preventDefault(),function(e,t){a.a(w,(function(t){return i.a(1,[e])})),fetch("https://wildcards.xyz/verification3boxTwitter",o.a.make(2,{"Content-Type":"application/json"},s.c(d.e(JSON.stringify({did:e,twitterHandle:t}),"{}",(function(e){return e}))),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)(0)).then((function(e){return e.text()})).then((function(e){var t=b(e);if(void 0!==t){var r=0;if("number"!==typeof n)switch(0|n.tag){case 2:case 3:case 4:r=1}1===r&&l.e(l.a.toResult(n[0].verified.addTwitter(t)),(function(e){return a.a(v,!0),a.a(w,(function(e){return 0}))}))}return Promise.resolve(0)}))}(T,S),0}}),c.createElement(c.Fragment,{children:null},c.createElement("p",void 0,"Post the following proof to twitter"),c.createElement("p",void 0,T),c.createElement("button",void 0,c.createElement("a",{className:"modal__github__description__copy__tweet",href:B,rel:"noopener noreferrer",target:"_blank"},"Tweet this")),k)}var y={make:w};function x(e){var t=d.e(m.f(0),"",(function(e){return e})),n=v.i(0),r=function(e){return a.b(n.update,t,e)};a.b(n.update,t,!1);var o=v.g(t),u=c.useState((function(){return i.a(0,[0])}));if(void 0!==o){var l,s=o,p=u[1],h=u[0],g=s.profile;if(void 0!==g){var b=g;l=c.createElement("div",void 0,c.createElement(E,{profileName:d.e(b.name,"",(function(e){return e})),profileDescription:d.e(b.description,"",(function(e){return e})),reloadUser:r,setThreeBoxState:p,threeBoxState:h}))}else l=c.createElement(f.i,{});var y=s.verifications;return c.createElement(c.Fragment,{children:null},l,void 0!==y?c.createElement(w,{twitterVerification:y.twitter,threeBoxState:h,setThreeBoxState:p,reloadUser:r}):c.createElement(w,{twitterVerification:void 0,threeBoxState:h,setThreeBoxState:p,reloadUser:r}))}return c.createElement(f.i,{})}var D={make:x};function S(e){var t=d.e(m.f(0),"",(function(e){return e})),n=c.useState((function(){return!1})),r=n[1];return c.createElement("div",void 0,c.createElement(f.f,{children:"Verify your identity"}),c.createElement("br",void 0),n[0]?c.createElement(x,{}):c.createElement(c.Fragment,{children:null},c.createElement(f.n,{children:null},"Please use",c.createElement("strong",void 0,c.createElement("a",{href:"https://3box.io/"+t,target:"_blank"}," 3Box.io ")),"to validate your identity on twitter."),c.createElement("br",void 0),c.createElement(f.b,{children:"Try Experimental 3box integration",onClick:function(e){return a.a(r,(function(e){return!0}))}})))}var k={make:S},T=S},766:function(e,t){},789:function(e,t){},849:function(e,t){},882:function(e,t){},883:function(e,t){}}]);